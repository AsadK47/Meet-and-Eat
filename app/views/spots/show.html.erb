
<div class="container">
<div class="card-total">
  <%= link_to spot_path(@spot) do %>
  <iframe
  width="600"
  height="450"
  frameborder="0" style="border:0"
  src="https://www.google.com/maps/embed/v1/place?key=<%=ENV['google_maps_api_key']%>
    &q=<%="#{@spot.latitude}"%>,<%="#{@spot.longitude}"%>" allowfullscreen>
  </iframe>
  <% end %>

    <div class="card-body">
      <div class="spot-title-time"
        <h1><a class="spot-title"<%= link_to @spot.spot, spot_path(@spot)%></a></h1>
        <p class="spot-time"><%= @spot.time_start %> - <%= @spot.time_end %></p>
      </div>

      <p><%= @spot.location %></p>
      <p><%= @spot.info %></p>
      <h4>Lunchers</h4>

      <div class="spot-followers"
        <p><%= @spot.username %></p>
        <% @spot.followers.each do |follower| %>
          <div class="spot-each-follower"
            <%= link_to profile_path(follower.id) do %>
              <% if follower.avatar.attached? %>
                <%= image_tag follower.avatar.variant(resize: "50x50!"), class: "tar rounded-circle" %>
              <% else %>
                <%= image_tag gravatar_image_url(follower.email, size: 75), height: 50, width: 50, class: "tar rounded-circle" %>
              <% end %>
          </div>
          <% end %>

        <% end %>
      </div>

        <div class="spot-user-options">
          <div class="spot-user-option">
            <%= link_to "Edit", edit_spot_path(@spot), :class => 'btn btn-info' %>
          </div>
          <div class="spot-user-option">
          <%= link_to "Delete", spot_path(@spot),
                                                method: :delete,
                                                data: {confirm: 'Are you sure?'},
                                                :class => 'btn btn-danger' %>
          </div>
      </div>
      <h3>Comments</h3>
        <% @spot.comments.each do |comment| %>
        <div>
          <p><%= comment.username%></p>
          <p><%= comment.content%></p>

        </div>
        <% end %>
        <h3>Add comment</h3>
      <hr>
      <%= form_for ([@spot, @spot.comments.build]) do |f| %>

        <p>
          <%= f.label :comment %><br>
          <%= f.text_field(:content, {:class => 'form-control'}) %>
        </p>
        <p>
          <%= f.submit({:class => 'btn btn-primary'}) %>
        </p>
        <% end %>



    </div>
  </div>

    <style>
    a.spot-title {
      font-size: 30px;
      text-decoration: none;
      color: inherit;
      font-weight: bold;
      font-size: 40px;
    }

    .spot-title-time {
      display: flex;
      flex-direction: row;
      align-items: flex-end;
      justify-content: space-between;
      font-size: 20px;
    }
    .card-total {
      border-style: solid;
      border-color: grey;
      border-radius: 25px;
      width: 59%;
      margin: 20px;
    }
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .card-body {
      padding: 30px;
    }

    .card-img-top {
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
    }

    .spot-followers {
      display: flex;
      flex-direction: row;
    }

    .spot-each-follower {
      padding: 10px;
    }

    .spot-user-options {
      display: flex;
      flex-direction: row;
      padding-top: 10px;
    }

    .spot-user-option {
      padding: 5px;
    }
    </style>
